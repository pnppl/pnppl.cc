don't think i need the thing in _assets, it doesn't seem to be touched by the build

make sure to delete public/htmx.min.js assuming you don't figure out how to keep it from being included
-> commented out the only inclusion that should be happening but it seems it always copies everything from public/

there are useless fonts to delete in /assets but they've been wiped from the css so they won't load, just remember to put the css back

todo: 
- search
- css tweaks
	- reduce vertical space
	- nicer ul styling
- display tags for item next to links to it?
- filenames in date format should be treated as containing that date - added to calendar, etc.
	- date format should have date-only and time-also formats, and we need to select one to rule them all
- trying to get rid of shell preprocessing
	- i think we need to create a new node that contains the text of the old one, then insert it after the current node. somehow
- next/prev post buttons
	- would be relatively easy to hack in with more shell but would rather avoid more of that
- rss is a little wonky. the heading buttons render but don't function in most readers
	- if i can ditch the shell preprocessing i can easily serve the plaintext version instead by changing p.Render() to p.Content()
		- we currently clean up redundant autolinks with a shell postprocess... hence the RSS feed is littered with them when using p.Render()
	- x domain, hence links (and also sitemap) are broken rn due to lack of www lol
- tracked down shortcode bug - modified frontmatter ext with nil trigger
	- this breaks shortcode ext. by deleting the node at the end with RemoveChild()
		- this is somewhat alarming. i clearly do not understand how this shit works
		- this stuff should not be executing for the insides of shortcodes
		- it does pretty much always trigger, even though it should only really run once. i just (thought!) i quit out if it wasn't on the first line
			- is the shortcode creating a new context? it seems to work on fragments of markdown. that would explain it
	- i did kinda rip the guts out... and it's the most irritating hack...
	- normal fenced code blocks work fine, i guess since that's handled by the markdown module
	- this is all somewhat vexing. shortcodes aren't very important but i have one usecase, spoiler/trigger warning. if i don't delete the node in frontmatter (non-hash) everything basically works out --- the problem with not deleting it in frontmatter_hash is it won't render as an h1, but that doesn't apply to non-h1-files. but if i do this, then i'll have to further complicate my ridiculous preprocessing: only duplicate the line if it does not begin with #. and there will still be edge cases, eg a shortcode whose content begins with a hash sign
	- probably best to just leave them turned off if i can't clean up my frontmatter situation
- what i would really like is to replace the frontmatter extensions with one simple one that sets the metadata based on my parameters, then have autolink_pages refer back to that metadata.
	- i don't understand the way this program works well enough. is the metadata in a global state, or is it being passed around all over the place, or what am I mmissing?
	- we've semi-successfully changed what metadata is "set" (?) in the frontmatter ext - the info makes it to the template, anyway.
		- so how do I retrieve it from inside autolink_pages, instead of reinventing the wheel and somehow breaking emdash in the process? 
		- I should just be able to type some shit like "metadata[title]" and retrieve it, right? RIGHT???
		- we should not be generating the firstline-title more than once. and we should not have to fuck with the text files first
			- and we should be doing it in one shot, without changing the page at all in the process, so other extensions can make the title H1 and etc. 
- chokes on unicode with preceding space or at beginning of line. seems to be the same problem as tab
- blank titles cause issues
- wikilink resolver: _html byte. ?
- we're technically live!
	- host issues mostly cleared up by moving to web1.0hosting! we even have directory listings!
		- only downside: can only upload over ftp
		- SSL cert issue - contacted support
		- pages still always show the trailing /
			- i guess i can live with this since it is technically a directory. i wish it were just .html. maybe try to change that later
		- add PHP features? Likes counter? try to make a gallery for 1bitday gifs? need a link to it at least
		- add web1.0hosting button
		- configure mail (wait for support)
		- remove git webhook/delete statichost.eu
- set it up on my phone, import more stuff
- recents is all fucked up, thought i fixed that

low priority/done:
- tweak title display, not that important, shows filename rn, kinda nice actually
	- swap filename and firstline/title?
- x get autolink_pages to stop autolinking pages to themselves
	- solved with a shell kludge after html already generated; can't figure out how to do it from inside the extension
- x wikilink syntax
	- very hacky but complete. however it would be a huge pain to swap label and destination so links have to be written [[file.html|click here]]
	- rather irritating not to be able to refer to pages by name, but autolinking means you don't have to if you are using the same display text
- ! links should be inserted without protocol where possible (protocol-relative link) for http/https compat
- x fix emoji bullshit
	- emoji markdown support removed
	- unicode glyphs replaced with ascii for extlink, footnote
	- navbar glyphs replaced with degenerate hidden <li></li> in template to make NCSA render bullets for us
- x disabled typography renderer (... -> …, "" -> “”, etc) because it dumps a bunch of &quot; type shit in ncsa. but it's kind of ugly not having it and is counter to the goal of: low tech input, high tech output. so could consider turning it back on.
	- no, leave it off. think of how annoying it is pasting "smart quotes" into an SMS
- x fix date format
	- calendar links to pages by all date mentions. it would be nice to have one restricted to creation/modification as well
		- of course i had hoped to just generate an alphabetical list of filenames to the same effect.  recent, but everything
		- these should also be anchors if possible. i don't understand why you would insert tags in a page and link to them without including anchors
		- anchors are now added and working, but i haven't managed to insert links to them on the tag page. calendar page is working
			- should be fixed now, had to make tag page show yyyy-mm-dd
- mosaic compat
	- x anchors don't work -- is that my fault or did mosaic not support them?
		- in html 2.0 you can't navigate to an element by id, you have to have <a name="id">
- x make sure dark mode works since we have this giant fucking css framework. consider minifying that also. or throwing it away
- x consider how to handle modification times. if we want this to be more wiki/garden and less write-once blog, modification is important. and i know how useful surfacing by modified is. but our modification times will, right now, be based entirely on filesystem metadata. it's not ideal and i'm not sure how xlog handles that but i don't see a better option right now. we don't want to use frontmatter since we have no good way to automate updating it.
	- it's fine, leave it alone
- index doesn't show on tag page
- x setext (underlined) headings don't seem to work. did i turn them off somehow? anyway, they suck
- can't put a tab in the middle of the line or it hangs
- ! aliasing for mentions?
- x a lot of stuff is going to be really useless if i can't get it to print the first line insted of filename
	- related pages: list of dates. calendar entries: list of dates. hashtags: list of dates. we need to figure out how to make what i did with autlink_pages more universal
	- i THINK the frontmatter extension does everything i want, except that it parses ---\ntitle: \n--- instead of the first line
		- i could just use my shell script to change the first line to this format, but then my hacky autolink_pages solution will fail
		- getting close. but two major issues:
			- ! if the line starts with # it fails. we get an empty title ("#title") or the filename ("# title").
				- solved with some ugly hacks:
					1. frontmatter extension is split in two, one triggers on 'nil' ("anything", but apparently not really) and the other on '#'
					2. files are just preprocessed with shell to duplicate first line and remove leading/trailing h1 hash
						- This breaks at least one file that starts '```' despite use of yaml block literal
			- the line can't be indented. setting it to accept indented lines causes server to hang. NBD
			- the line does not get rendered normally. the parser consumes it. it's metadata after all
				- fixed i think, had to comment out node removal
					- undid this as part of my ugly h1 solve
- x autlink_pages fails on all sorts of stuff i wouldn't expect, basically any leading punctuation
	- i strip leading and trailing h1 from the normalized name but i figured the rest could be left intact. apparently not?
	- the trigger is an issue. setting it to nil, or ' ', is unsuccessful, and several characters (#, $, %) cause a hang
		- tested all and added several working ('!', '?' ..)
			- removed these because they don't actually work?
- got a lot done, need to tidy and merge
	- added hotkeys for Toc, Home, Src (accesskey="n") with <u> for active char
		- ffx: alt-shift-key
		- ! want to add for the rest of the navbar but it's spit out on a template. Calendar, Recent, Hashtags. no need for rss accelerator
		- shortcuts to the first 10 headings would be cool but not worth much effort
	- pushed theme in a win9x direction, hopefully not too overbearing. gives it a lot of personality
		- the charm of it is how the 9x elements seem apart from the content
			- we want to style navigation elements this way, and content its own way, closer to the sleek OOTB design
			- the theme not being unified is its strength. 9x programs always did whatever they wanted anyway
			- it's like we have photoshop or the like open, plus a pop-up for the TOC, and a toolbar with our buttons
- x mobile should wrap now
- reduced title to 70 chars, which is max for gopher. filename still doesn't display quite right.
	- floating it to the right on list pages is stupid and should be changed
- x All Posts page - alpha sorted by filename, show filename and firstline. also link to src
	- recents already seems to include all posts
	- also sort by firstline
	- sorting by firstline should be done. masquerading as disqus. for filename, idk, might want a separate page. or just link to directory
- x my site is being rendered in "quirks mode", i assume due to the use of <center>. we don't really need this, it doesn't make bare html look much better. replace with appropriate modern alternative.
	- actually the doctype decl is not making it through to the final page for some fucking reason
	- all comments seem to be disappearing. seems to be my fault, it made it through before
	- i guess i can probably keep using my crusty tags! :)
	- issue was the doctype got moved outside the header decl in the layout.html template
- TOC is working but might want to move it outside view area
	- no, leave position alone. however we need text to be better at not running into it
	- x no visual indication of current position
	- Backlinks, See Also added with shell kludge
- replace branding - logo, name, favicon
	- tent. name: pnppl's commonplace
		- kinda long compared to just pnppl.cc
	- tent. logo/favicon: fluffy dandelion formed from network graph (nodes and lines)
		- hand draw with supernote and encode as gif 
		- just threw up my 1-bit.day avatar for now
- x <ul> only generated with -, not * or +
	- this might cause problems. i think it's the only change i've made to markdown handling that is a break not an extension
- x #1 is a hashtag. should not be
- x email button is messed up on mobile
- html output has a lot of pointless whitespace
- page generation is just... nondeterministic. all the pages change slightly for no reason every build. oh well

longterm notions
- replace css with something much smaller and more compatible
- support other delivery formats like epub
- visual graph
- other protocols like gopher
